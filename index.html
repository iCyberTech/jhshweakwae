<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hweakwae JHS - In Deo Credere</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary-color: #2e7d32;
            --secondary-color: #1b5e20;
            --accent-color: #43a047;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --gradient-bg: linear-gradient(135deg, #f1f8e9 0%, #e8f5e9 100%);
            --neumorphic-shadow: 8px 8px 15px rgba(163, 177, 198, 0.4), 
                                -8px -8px 15px rgba(255, 255, 255, 0.8);
            --neumorphic-shadow-inset: inset 3px 3px 5px rgba(163, 177, 198, 0.4), 
                                     inset -3px -3px 5px rgba(255, 255, 255, 0.8);
            --transition: all 0.3s ease;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: var(--gradient-bg);
            color: var(--dark-color);
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header Styles */
        header {
            padding: 20px 0;
            position: relative;
            z-index: 100;
        }

        .header-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 15px 30px;
            box-shadow: var(--neumorphic-shadow);
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo img {
            width: 50px;
            height: 50px;
            object-fit: contain;
        }

        .logo-text h1 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary-color);
            margin-bottom: 5px;
        }

        .logo-text p {
            font-size: 0.8rem;
            color: var(--dark-color);
            opacity: 0.8;
        }

        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }

        nav ul li a {
            text-decoration: none;
            color: var(--dark-color);
            font-weight: 600;
            font-size: 0.9rem;
            transition: var(--transition);
            position: relative;
        }

        nav ul li a:hover {
            color: var(--primary-color);
        }

        nav ul li a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background: var(--primary-color);
            transition: var(--transition);
        }

        nav ul li a:hover::after {
            width: 100%;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 1.5rem;
            color: var(--dark-color);
            cursor: pointer;
        }

        /* Announcement Slider */
        .announcement-bar {
            background: rgba(46, 125, 50, 0.1);
            backdrop-filter: blur(5px);
            padding: 12px 0;
            margin: 20px 0;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            box-shadow: var(--neumorphic-shadow);
        }

        .announcement-container {
            display: flex;
            transition: transform 0.5s ease;
            width: 100%;
        }

        .announcement-slide {
            min-width: 100%;
            padding: 0 20px;
            text-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            cursor: pointer;
        }

        .announcement-slide i {
            color: var(--accent-color);
            font-size: 1.2rem;
        }

        .announcement-slide p {
            font-weight: 600;
            color: var(--secondary-color);
        }

        .announcement-slide a {
            color: var(--accent-color);
            text-decoration: none;
            font-weight: 700;
            margin-left: 10px;
            transition: var(--transition);
        }

        .announcement-slide a:hover {
            text-decoration: underline;
        }

        .announcement-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 40px;
            height: 40px;
            background: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: var(--neumorphic-shadow);
            z-index: 2;
            opacity: 0.7;
            transition: var(--transition);
        }

        .announcement-nav:hover {
            opacity: 1;
        }

        .announcement-prev {
            left: 10px;
        }

        .announcement-next {
            right: 10px;
        }

        /* Announcement Modal */
        .announcement-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 700px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .modal-title {
            font-size: 1.5rem;
            color: var(--secondary-color);
            font-weight: 700;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--dark-color);
            transition: var(--transition);
        }

        .modal-close:hover {
            color: var(--accent-color);
        }

        .modal-body {
            margin-bottom: 20px;
        }

        .modal-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: #666;
            padding-top: 15px;
            border-top: 1px solid #eee;
        }

        .modal-author {
            font-weight: 600;
        }

        .modal-date {
            font-style: italic;
        }

        /* Hero Section */
        .hero {
            height: 80vh;
            display: flex;
            align-items: center;
            position: relative;
            overflow: hidden;
            margin-top: 20px;
        }

        .hero-content {
            width: 50%;
            z-index: 2;
        }

        .hero-content h2 {
            font-size: 3rem;
            font-weight: 800;
            margin-bottom: 20px;
            line-height: 1.2;
            color: var(--secondary-color);
        }

        .hero-content p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        .hero-btns {
            display: flex;
            gap: 20px;
        }

        .btn {
            padding: 12px 30px;
            border-radius: 50px;
            font-weight: 600;
            text-decoration: none;
            transition: var(--transition);
            display: inline-block;
            cursor: pointer;
            border: none;
            font-size: 0.9rem;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            box-shadow: 0 4px 15px rgba(46, 125, 50, 0.4);
        }

        .btn-primary:hover {
            background: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(46, 125, 50, 0.6);
        }

        .btn-secondary {
            background: white;
            color: var(--primary-color);
            box-shadow: var(--neumorphic-shadow);
        }

        .btn-secondary:hover {
            transform: translateY(-3px);
            box-shadow: 8px 8px 20px rgba(163, 177, 198, 0.5), 
                        -8px -8px 20px rgba(255, 255, 255, 0.9);
        }

        .hero-image {
            position: absolute;
            right: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 50%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .hero-image img {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
            filter: drop-shadow(0 10px 20px rgba(0, 0, 0, 0.1));
            animation: float 6s ease-in-out infinite;
            border-radius: 15px;
        }

        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
            100% { transform: translateY(0px); }
        }

        /* Floating Elements */
        .floating-element {
            position: absolute;
            border-radius: 50%;
            filter: blur(60px);
            opacity: 0.7;
            z-index: 1;
        }

        .floating-1 {
            width: 300px;
            height: 300px;
            background: rgba(46, 125, 50, 0.2);
            top: 10%;
            left: 5%;
            animation: float 8s ease-in-out infinite;
        }

        .floating-2 {
            width: 200px;
            height: 200px;
            background: rgba(67, 160, 71, 0.2);
            bottom: 15%;
            right: 10%;
            animation: float 7s ease-in-out infinite reverse;
        }

        /* Features Section */
        .features {
            padding: 80px 0;
            position: relative;
        }

        .section-title {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-title h2 {
            font-size: 2.5rem;
            color: var(--secondary-color);
            margin-bottom: 15px;
            position: relative;
            display: inline-block;
        }

        .section-title h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 4px;
            background: var(--accent-color);
            border-radius: 2px;
        }

        .section-title p {
            font-size: 1.1rem;
            opacity: 0.8;
            max-width: 700px;
            margin: 0 auto;
        }

        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            padding: 30px;
            box-shadow: var(--neumorphic-shadow);
            transition: var(--transition);
            text-align: center;
        }

        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 15px 15px 30px rgba(163, 177, 198, 0.4), 
                        -15px -15px 30px rgba(255, 255, 255, 0.9);
        }

        .feature-icon {
            width: 80px;
            height: 80px;
            margin: 0 auto 20px;
            display: flex;
            justify-content: center;
            align-items: center;
            background: white;
            border-radius: 50%;
            box-shadow: var(--neumorphic-shadow);
            color: var(--primary-color);
            font-size: 1.8rem;
        }

        .feature-card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--secondary-color);
        }

        /* Gallery Section */
        .gallery {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.7);
        }

        .gallery-container {
            position: relative;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
            transition: transform 0.5s ease;
        }

        .gallery-item {
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--neumorphic-shadow);
            transition: var(--transition);
            position: relative;
            aspect-ratio: 4/3;
        }

        .gallery-item:hover {
            transform: scale(1.03);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }

        .gallery-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .gallery-item:hover img {
            transform: scale(1.1);
        }

        .gallery-item-caption {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 15px;
            transform: translateY(100%);
            transition: var(--transition);
        }

        .gallery-item:hover .gallery-item-caption {
            transform: translateY(0);
        }

        .gallery-nav {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
        }

        .gallery-nav-btn {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: white;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            box-shadow: var(--neumorphic-shadow);
            transition: var(--transition);
            font-size: 1.2rem;
            color: var(--primary-color);
        }

        .gallery-nav-btn:hover {
            background: var(--primary-color);
            color: white;
            transform: translateY(-3px);
        }

        .gallery-nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            background: #f0f0f0;
            color: #999;
        }

        /* Video Section */
        .video-section {
            padding: 80px 0;
            position: relative;
        }

        .video-section-container {
            position: relative;
        }

        .video-container {
            display: flex;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            gap: 30px;
            padding: 10px 0;
            scrollbar-width: none; /* Firefox */
        }

        .video-container::-webkit-scrollbar {
            display: none; /* Chrome/Safari */
        }

        .video-card {
            scroll-snap-align: start;
            flex: 0 0 calc(100% - 20px);
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--neumorphic-shadow);
            transition: var(--transition);
        }

        @media (min-width: 768px) {
            .video-card {
                flex: 0 0 calc(50% - 15px);
            }
        }

        @media (min-width: 992px) {
            .video-card {
                flex: 0 0 calc(33.333% - 20px);
            }
        }

        .video-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.1);
        }

        .video-player {
            width: 100%;
            aspect-ratio: 16/9;
            background: #000;
            position: relative;
        }

        .video-player iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        .video-play-btn {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 60px;
            height: 60px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: var(--transition);
        }

        .video-play-btn i {
            color: var(--primary-color);
            font-size: 1.5rem;
            margin-left: 5px;
        }

        .video-card-content {
            padding: 20px;
        }

        .video-card-content h3 {
            font-size: 1.2rem;
            margin-bottom: 10px;
            color: var(--secondary-color);
        }

        .video-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 50px;
            height: 50px;
            background: white;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            box-shadow: var(--neumorphic-shadow);
            z-index: 2;
            opacity: 0.8;
            transition: var(--transition);
            border: none;
            color: var(--primary-color);
            font-size: 1.2rem;
        }

        .video-nav:hover {
            opacity: 1;
            background: var(--primary-color);
            color: white;
        }

        .video-prev {
            left: -25px;
        }

        .video-next {
            right: -25px;
        }

        /* Call to Action */
        .cta {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(10px);
            position: relative;
            overflow: hidden;
        }

        .cta-container {
            display: flex;
            align-items: center;
            gap: 50px;
            position: relative;
            z-index: 2;
        }

        .cta-image {
            flex: 1;
            display: flex;
            justify-content: center;
        }

        .cta-image img {
            max-width: 100%;
            border-radius: 20px;
            box-shadow: var(--neumorphic-shadow);
            animation: float 6s ease-in-out infinite;
        }

        .cta-content {
            flex: 1;
        }

        .cta-content h2 {
            font-size: 2.5rem;
            color: var(--secondary-color);
            margin-bottom: 20px;
            position: relative;
        }

        .cta-content h2::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 80px;
            height: 4px;
            background: var(--accent-color);
            border-radius: 2px;
        }

        .cta-content p {
            font-size: 1.1rem;
            margin-bottom: 30px;
            opacity: 0.9;
        }

        /* Blog Section */
        .blog-section {
            padding: 80px 0;
            background: rgba(255, 255, 255, 0.9);
        }

        .blog-container {
            display: grid;
            grid-template-columns: 1fr;
            gap: 30px;
        }

        .blog-post {
            background: white;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--neumorphic-shadow);
            transition: var(--transition);
        }

        .blog-post:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .blog-post-header {
            padding: 20px;
            border-bottom: 1px solid #eee;
        }

        .blog-post-title {
            font-size: 1.5rem;
            margin-bottom: 10px;
            color: var(--secondary-color);
        }

        .blog-post-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.9rem;
            color: #666;
        }

        .blog-post-author {
            font-weight: 600;
        }

        .blog-post-date {
            font-style: italic;
        }

        .blog-post-content {
            padding: 20px;
        }

        .blog-post-footer {
            padding: 15px 20px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .blog-post-likes {
            display: flex;
            align-items: center;
            gap: 5px;
            cursor: pointer;
        }

        .blog-post-likes i {
            color: var(--accent-color);
            transition: var(--transition);
        }

        .blog-post-likes:hover i {
            transform: scale(1.2);
        }

        .blog-post-comments {
            color: var(--primary-color);
            text-decoration: none;
            transition: var(--transition);
        }

        .blog-post-comments:hover {
            text-decoration: underline;
        }

        .blog-comments {
            padding: 20px;
            background: #f9f9f9;
            border-top: 1px solid #eee;
            display: none;
        }

        .blog-comment {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }

        .blog-comment:last-child {
            margin-bottom: 0;
            padding-bottom: 0;
            border-bottom: none;
        }

        .blog-comment-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 0.9rem;
        }

        .blog-comment-author {
            font-weight: 6;
        }

        .blog-comment-date {
            color: #666;
            font-style: italic;
        }

        .blog-comment-form {
            margin-top: 20px;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .blog-comment-input {
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ddd;
            resize: vertical;
            min-height: 100px;
            font-family: inherit;
        }

        .blog-comment-submit {
            align-self: flex-end;
            padding: 10px 20px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: var(--transition);
        }

        .blog-comment-submit:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        .blog-form {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: var(--neumorphic-shadow);
            margin-top: 40px;
        }

        .blog-form-title {
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
            text-align: center;
        }

        .blog-form-group {
            margin-bottom: 20px;
        }

        .blog-form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .blog-form-input, .blog-form-textarea {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-family: inherit;
        }

        .blog-form-textarea {
            min-height: 150px;
            resize: vertical;
        }

        .blog-form-submit {
            display: block;
            width: 100%;
            padding: 15px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .blog-form-submit:hover {
            background: var(--secondary-color);
            transform: translateY(-3px);
        }

        /* Nickname Modal */
        .nickname-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }

        .nickname-modal-content {
            background: white;
            border-radius: 15px;
            width: 90%;
            max-width: 500px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .nickname-modal-title {
            font-size: 1.5rem;
            margin-bottom: 20px;
            color: var(--secondary-color);
            text-align: center;
        }

        .nickname-modal-text {
            margin-bottom: 20px;
            text-align: center;
        }

        .nickname-form-group {
            margin-bottom: 20px;
        }

        .nickname-form-input {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid #ddd;
            font-family: inherit;
        }

        .nickname-form-submit {
            display: block;
            width: 100%;
            padding: 12px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
        }

        .nickname-form-submit:hover {
            background: var(--secondary-color);
        }

        /* Chatbot Styles */
        .chatbot-container {
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 999;
            width: 350px;
            max-width: 90%;
            transition: all 0.3s ease;
        }

        .chatbot-header {
            background: var(--primary-color);
            color: white;
            padding: 15px;
            border-radius: 15px 15px 0 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .chatbot-title {
            font-weight: 600;
            font-size: 1.1rem;
        }

        .chatbot-toggle {
            background: none;
            border: none;
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
        }

        .chatbot-body {
            background: white;
            border-radius: 0 0 15px 15px;
            height: 400px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            overflow: hidden;
            transform-origin: bottom right;
            transform: scaleY(0);
            height: 0;
            transition: all 0.3s ease;
        }

        .chatbot-body.open {
            transform: scaleY(1);
            height: 400px;
        }

        .chatbot-messages {
            flex: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .chatbot-message {
            max-width: 80%;
            padding: 10px 15px;
            border-radius: 15px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .chatbot-message.bot {
            align-self: flex-start;
            background: #f1f1f1;
            border-radius: 15px 15px 15px 0;
        }

        .chatbot-message.user {
            align-self: flex-end;
            background: var(--primary-color);
            color: white;
            border-radius: 15px 15px 0 15px;
        }

        .chatbot-input-container {
            padding: 10px;
            border-top: 1px solid #eee;
            display: flex;
            gap: 10px;
        }

        .chatbot-input {
            flex: 1;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 50px;
            outline: none;
        }

        .chatbot-send {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: var(--transition);
        }

        .chatbot-send:hover {
            background: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* Footer */
        footer {
            background: var(--dark-color);
            color: white;
            padding: 60px 0 20px;
            position: relative;
        }

        .footer-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }

        .footer-col h3 {
            font-size: 1.3rem;
            margin-bottom: 20px;
            color: white;
            position: relative;
            padding-bottom: 10px;
        }

        .footer-col h3::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 50px;
            height: 2px;
            background: var(--accent-color);
        }

        .footer-col p {
            opacity: 0.8;
            margin-bottom: 15px;
        }

        .footer-col ul {
            list-style: none;
        }

        .footer-col ul li {
            margin-bottom: 10px;
        }

        .footer-col ul li a {
            color: white;
            opacity: 0.8;
            text-decoration: none;
            transition: var(--transition);
        }

        .footer-col ul li a:hover {
            opacity: 1;
            padding-left: 5px;
        }

        .social-links {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .social-links a {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 40px;
            height: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            color: white;
            transition: var(--transition);
        }

        .social-links a:hover {
            background: var(--accent-color);
            transform: translateY(-3px);
        }

        .footer-bottom {
            text-align: center;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* Responsive Styles */
        @media (max-width: 992px) {
            .hero-content h2 {
                font-size: 2.5rem;
            }

            .cta-container {
                flex-direction: column;
            }

            .cta-image, .cta-content {
                width: 100%;
            }

            .video-nav {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }

            .video-prev {
                left: -15px;
            }

            .video-next {
                right: -15px;
            }
        }

        @media (max-width: 768px) {
            nav ul {
                position: fixed;
                top: 0;
                right: -100%;
                width: 80%;
                max-width: 300px;
                height: 100vh;
                background: white;
                flex-direction: column;
                align-items: center;
                justify-content: center;
                gap: 30px;
                box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
                transition: var(--transition);
                z-index: 999;
            }

            nav ul.active {
                right: 0;
            }

            .mobile-menu-btn {
                display: block;
                z-index: 1000;
            }

            .hero {
                height: auto;
                padding: 100px 0;
            }

            .hero-content {
                width: 100%;
                text-align: center;
            }

            .hero-btns {
                justify-content: center;
            }

            .hero-image {
                position: relative;
                width: 100%;
                height: auto;
                transform: none;
                margin-top: 50px;
            }

            .section-title h2 {
                font-size: 2rem;
            }

            .feature-card {
                padding: 20px;
            }

            .announcement-nav {
                display: none;
            }

            .modal-content {
                width: 95%;
                padding: 20px;
            }

            .modal-title {
                font-size: 1.3rem;
            }

            .video-nav {
                display: none;
            }

            .chatbot-container {
                width: 300px;
                right: 20px;
                bottom: 20px;
            }
        }

        @media (max-width: 576px) {
            .hero-content h2 {
                font-size: 2rem;
            }

            .hero-btns {
                flex-direction: column;
                gap: 15px;
            }

            .btn {
                width: 100%;
                text-align: center;
            }

            .section-title h2 {
                font-size: 1.8rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
            }

            .gallery-nav-btn {
                width: 40px;
                height: 40px;
                font-size: 1rem;
            }

            .chatbot-container {
                width: 280px;
                right: 10px;
                bottom: 10px;
            }
        }
    </style>
</head>
<body>
    <!-- Floating Background Elements -->
    <div class="floating-element floating-1"></div>
    <div class="floating-element floating-2"></div>

    <!-- Header -->
    <header>
        <div class="container">
            <div class="header-container">
                <div class="logo">
                    <img src="logo.jpg" alt="Hweakwae JHS Logo">
                    <div class="logo-text">
                        <h1>Hweakwae JHS</h1>
                        <p>« In Deo Credere »</p>
                    </div>
                </div>
                <nav>
                    <ul id="nav-menu">
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About</a></li>
                        <li><a href="#blog">Blog</a></li>
                        <li><a href="#gallery">Gallery</a></li>
                        <li><a href="#videos">Videos</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                    <button class="mobile-menu-btn" id="mobile-menu-btn">
                        <i class="fas fa-bars"></i>
                    </button>
                </nav>
            </div>
        </div>
    </header>

    <!-- Announcement Slider -->
    <div class="container">
        <div class="announcement-bar">
            <div class="announcement-container" id="announcement-container">
                <!-- Announcement slides will be loaded dynamically from Firebase -->
            </div>
            <div class="announcement-nav announcement-prev" id="announcement-prev">
                <i class="fas fa-chevron-left"></i>
            </div>
            <div class="announcement-nav announcement-next" id="announcement-next">
                <i class="fas fa-chevron-right"></i>
            </div>
        </div>
    </div>

    <!-- Announcement Modal -->
    <div class="announcement-modal" id="announcement-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title" id="modal-title">Announcement Title</h3>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Announcement content will be loaded here -->
            </div>
            <div class="modal-footer">
                <span class="modal-author" id="modal-author">Author</span>
                <span class="modal-date" id="modal-date">Date</span>
            </div>
        </div>
    </div>

    <!-- Hero Section -->
    <section class="hero" id="home">
        <div class="container">
            <div class="hero-content">
                <h2>Shaping Future Leaders Through Quality Education</h2>
                <p>At Hweakwae JHS, we provide a nurturing environment that fosters academic excellence, character development, and holistic growth for every student.</p>
                <div class="hero-btns">
                    <a href="admmission.html" class="btn btn-primary">Apply Now</a>
                    <a href="signin.html" class="btn btn-secondary">CramNerd</a>
                </div>
            </div>
            <div class="hero-image">
                <img id="hero-image" src="" alt="Students Learning">
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section class="features" id="about">
        <div class="container">
            <div class="section-title">
                <h2>Why Choose Hweakwae JHS</h2>
                <p>Discover what makes our institution stand out in providing quality junior high school education</p>
            </div>
            <div class="features-grid">
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-graduation-cap"></i>
                    </div>
                    <h3>Qualified Teachers</h3>
                    <p>Our dedicated and experienced teachers are committed to bringing out the best in every student through personalized attention.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-flask"></i>
                    </div>
                    <h3>Modern Facilities</h3>
                    <p>State-of-the-art laboratories, library, and classrooms equipped with modern learning technologies.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon">
                        <i class="fas fa-medal"></i>
                    </div>
                    <h3>Proven Excellence</h3>
                    <p>Consistent top performance in regional and national examinations with numerous awards.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Blog Section -->
    <section class="blog-section" id="blog">
        <div class="container">
            <div class="section-title">
                <h2>School Blog</h2>
                <p>Latest news, stories, and updates from our school community</p>
            </div>
            <div class="blog-container" id="blog-container">
                <!-- Blog posts will be loaded dynamically from Firebase -->
            </div>
            <div class="blog-form" id="blog-form">
                <h3 class="blog-form-title">Create a New Blog Post</h3>
                <div class="blog-form-group">
                    <label for="blog-post-title" class="blog-form-label">Title</label>
                    <input type="text" id="blog-post-title" class="blog-form-input" placeholder="Enter post title">
                </div>
                <div class="blog-form-group">
                    <label for="blog-post-content" class="blog-form-label">Content</label>
                    <textarea id="blog-post-content" class="blog-form-textarea" placeholder="Write your post content here"></textarea>
                </div>
                <button type="button" class="blog-form-submit" id="blog-post-submit">Publish Post</button>
            </div>
        </div>
    </section>

    <!-- Gallery Section -->
    <section class="gallery" id="gallery">
        <div class="container">
            <div class="section-title">
                <h2>Our School Gallery</h2>
                <p>Take a visual tour of our campus and student activities</p>
            </div>
            <div class="gallery-container">
                <div class="gallery-grid" id="gallery-grid">
                    <!-- Gallery items will be loaded dynamically from Firebase -->
                </div>
                <div class="gallery-nav">
                    <button class="gallery-nav-btn" id="gallery-prev" disabled>
                        <i class="fas fa-chevron-left"></i>
                    </button>
                    <button class="gallery-nav-btn" id="gallery-next">
                        <i class="fas fa-chevron-right"></i>
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- Video Section -->
    <section class="video-section" id="videos">
        <div class="container">
            <div class="section-title">
                <h2>School Videos</h2>
                <p>Watch our school in action through these videos</p>
            </div>
            <div class="video-section-container">
                <button class="video-nav video-prev" id="video-prev">
                    <i class="fas fa-chevron-left"></i>
                </button>
                <div class="video-container" id="video-container">
                    <!-- Video items will be loaded dynamically from Firebase -->
                </div>
                <button class="video-nav video-next" id="video-next">
                    <i class="fas fa-chevron-right"></i>
                </button>
            </div>
        </div>
    </section>

    <!-- Call to Action -->
    <section class="cta" id="apply">
        <div class="container">
            <div class="cta-container">
                <div class="cta-image">
                    <img id="cta-image" src="" alt="Apply Now">
                </div>
                <div class="cta-content">
                    <h2>Ready to Join Our Community?</h2>
                    <p>Applications for the next academic year are now open. Don't miss the opportunity to be part of this transformative educational experience.</p>
                    <a href="#" class="btn btn-primary">Apply Now</a>
                </div>
            </div>
            </div>
    </section>

    <!-- Footer -->
    <footer id="contact">
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>About Us</h3>
                    <p>Hweakwae JHS has been a pillar of academic excellence for over 57 years, shaping young minds to become responsible global citizens.</p>
                    <div class="social-links">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-tiktok"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-youtube"></i></a>
                    </div>
                </div>
                <div class="footer-col">
                    <h3>Quick Links</h3>
                    <ul>
                        <li><a href="#home">Home</a></li>
                        <li><a href="#about">About Us</a></li>
                        <li><a href="#blog">Blog</a></li>
                        <li><a href="#gallery">Gallery</a></li>
                        <li><a href="#videos">Videos</a></li>
                        <li><a href="#contact">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Important Links</h3>
                    <ul>
                        <li><a href="signin.html">Student Portal</a></li>
                        <li><a href="#apply">Admissions</a></li>
                        <li><a href="#">Academic Calendar</a></li>
                        <li><a href="#">School Fees</a></li>
                        <li><a href="#">News & Events</a></li>
                    </ul>
                </div>
                <div class="footer-col">
                    <h3>Contact Us</h3>
                    <p><i class="fas fa-map-marker-alt"></i> New Abirem, Hweakwae</p>
                    <p><i class="fas fa-phone"></i> +233</p>
                    <p><i class="fas fa-envelope"></i> info@hweakwaejhs.edu</p>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Hweakwae JHS. All Rights Reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Nickname Modal -->
    <div class="nickname-modal" id="nickname-modal">
        <div class="nickname-modal-content">
            <h3 class="nickname-modal-title">Choose Your Nickname</h3>
            <p class="nickname-modal-text">Please enter a nickname to use when posting or commenting on our blog.</p>
            <div class="nickname-form-group">
                <input type="text" id="nickname-input" class="nickname-form-input" placeholder="Enter your nickname">
            </div>
            <button type="button" class="nickname-form-submit" id="nickname-submit">Save Nickname</button>
        </div>
    </div>

    <!-- Chatbot Widget -->
    <div class="chatbot-container" id="chatbot-container">
        <div class="chatbot-header" id="chatbot-header">
            <div class="chatbot-title">School Assistant</div>
            <button class="chatbot-toggle" id="chatbot-toggle">
                <i class="fas fa-comment-dots"></i>
            </button>
        </div>
        <div class="chatbot-body" id="chatbot-body">
            <div class="chatbot-messages" id="chatbot-messages">
                <div class="chatbot-message bot">
                    Hello! I'm the Hweakwae JHS assistant. How can I help you today?
                </div>
            </div>
            <div class="chatbot-input-container">
                <input type="text" class="chatbot-input" id="chatbot-input" placeholder="Type your question...">
                <button class="chatbot-send" id="chatbot-send">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-database-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.0/firebase-storage-compat.js"></script>
    
    <script>
        // Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyAkrHsyfCTijqKP7UJv0eSx0iNvl8S06U8",
            authDomain: "sms-single.firebaseapp.com",
            projectId: "sms-single",
            storageBucket: "sms-single.firebasestorage.app",
            messagingSenderId: "140188895278",
            appId: "1:140188895278:web:1b56660a13e5b088ce77bf",
            measurementId: "G-7ER348P6VZ"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();
        const storage = firebase.storage();

        // Track currently playing video
        let currentlyPlayingVideo = null;

        // Mobile Menu Toggle
        const mobileMenuBtn = document.getElementById('mobile-menu-btn');
        const navMenu = document.getElementById('nav-menu');

        mobileMenuBtn.addEventListener('click', () => {
            navMenu.classList.toggle('active');
            mobileMenuBtn.innerHTML = navMenu.classList.contains('active') 
                ? '<i class="fas fa-times"></i>' 
                : '<i class="fas fa-bars"></i>';
        });

        // Close menu when clicking on a link
        document.querySelectorAll('#nav-menu a').forEach(link => {
            link.addEventListener('click', () => {
                navMenu.classList.remove('active');
                mobileMenuBtn.innerHTML = '<i class="fas fa-bars"></i>';
            });
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function(e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Announcement Modal
        const announcementModal = document.getElementById('announcement-modal');
        const modalClose = document.getElementById('modal-close');
        const modalTitle = document.getElementById('modal-title');
        const modalBody = document.getElementById('modal-body');
        const modalAuthor = document.getElementById('modal-author');
        const modalDate = document.getElementById('modal-date');

        modalClose.addEventListener('click', () => {
            announcementModal.style.display = 'none';
        });

        window.addEventListener('click', (e) => {
            if (e.target === announcementModal) {
                announcementModal.style.display = 'none';
            }
        });

        // Load announcements from Firebase
        function loadAnnouncements() {
            const announcementContainer = document.getElementById('announcement-container');
            const announcementRef = database.ref('announcements');
            
            announcementRef.orderByChild('timestamp').once('value').then(snapshot => {
                const announcements = [];
                snapshot.forEach(childSnapshot => {
                    const announcement = childSnapshot.val();
                    if (announcement.status === 'active') {
                        announcements.push(announcement);
                    }
                });
                
                // Sort by priority (high first) then by timestamp (newest first)
                announcements.sort((a, b) => {
                    if (a.priority === 'high' && b.priority !== 'high') return -1;
                    if (a.priority !== 'high' && b.priority === 'high') return 1;
                    return new Date(b.timestamp) - new Date(a.timestamp);
                });
                
                // Display only the first 3 announcements
                const displayAnnouncements = announcements.slice(0, 3);
                
                // Clear existing slides
                announcementContainer.innerHTML = '';
                
                // Create slides for each announcement
                displayAnnouncements.forEach(announcement => {
                    const slide = document.createElement('div');
                    slide.className = 'announcement-slide';
                    
                    // Choose icon based on priority
                    const icon = announcement.priority === 'high' 
                        ? 'fas fa-exclamation-circle' 
                        : 'fas fa-bullhorn';
                    
                    slide.innerHTML = `
                        <i class="${icon}"></i>
                        <p>${announcement.title}</p>
                    `;
                    
                    // Add click event to show full announcement
                    slide.addEventListener('click', () => {
                        modalTitle.textContent = announcement.title;
                        modalBody.innerHTML = announcement.content;
                        modalAuthor.textContent = announcement.author;
                        modalDate.textContent = new Date(announcement.timestamp).toLocaleDateString('en-US', {
                            year: 'numeric',
                            month: 'long',
                            day: 'numeric'
                        });
                        announcementModal.style.display = 'flex';
                    });
                    
                    announcementContainer.appendChild(slide);
                });
                
                // Initialize slider functionality if there are announcements
                if (displayAnnouncements.length > 0) {
                    initializeAnnouncementSlider();
                } else {
                    // Show a default message if no announcements
                    announcementContainer.innerHTML = `
                        <div class="announcement-slide">
                            <i class="fas fa-info-circle"></i>
                            <p>No current announcements</p>
                        </div>
                    `;
                }
            });
        }

        // Announcement Slider
        function initializeAnnouncementSlider() {
            const announcementContainer = document.getElementById('announcement-container');
            const announcementSlides = document.querySelectorAll('.announcement-slide');
            const prevBtn = document.getElementById('announcement-prev');
            const nextBtn = document.getElementById('announcement-next');
            
            let currentSlide = 0;
            const slideCount = announcementSlides.length;
            
            function updateSlider() {
                announcementContainer.style.transform = `translateX(-${currentSlide * 100}%)`;
            }
            
            nextBtn.addEventListener('click', () => {
                currentSlide = (currentSlide + 1) % slideCount;
                updateSlider();
            });
            
            prevBtn.addEventListener('click', () => {
                currentSlide = (currentSlide - 1 + slideCount) % slideCount;
                updateSlider();
            });
            
            // Auto-advance slides every 5 seconds
            setInterval(() => {
                currentSlide = (currentSlide + 1) % slideCount;
                updateSlider();
            }, 5000);
        }

        // Gallery Pagination
        let currentGalleryPage = 0;
        let galleryItems = [];
        const galleryGrid = document.getElementById('gallery-grid');
        const galleryPrevBtn = document.getElementById('gallery-prev');
        const galleryNextBtn = document.getElementById('gallery-next');
        const ITEMS_PER_PAGE = 8;

        function displayGalleryPage(page) {
            galleryGrid.innerHTML = '';
            const startIndex = page * ITEMS_PER_PAGE;
            const endIndex = Math.min(startIndex + ITEMS_PER_PAGE, galleryItems.length);
            
            for (let i = startIndex; i < endIndex; i++) {
                const item = galleryItems[i];
                const galleryItem = document.createElement('div');
                galleryItem.className = 'gallery-item';
                galleryItem.innerHTML = `
                    <img src="${item.url}" alt="${item.caption || 'School Image'}">
                    <div class="gallery-item-caption">${item.caption || 'School Image'}</div>
                `;
                galleryGrid.appendChild(galleryItem);
            }
            
            // Update button states
            galleryPrevBtn.disabled = page === 0;
            galleryNextBtn.disabled = endIndex >= galleryItems.length;
        }

        galleryPrevBtn.addEventListener('click', () => {
            if (currentGalleryPage > 0) {
                currentGalleryPage--;
                displayGalleryPage(currentGalleryPage);
            }
        });

        galleryNextBtn.addEventListener('click', () => {
            if ((currentGalleryPage + 1) * ITEMS_PER_PAGE < galleryItems.length) {
                currentGalleryPage++;
                displayGalleryPage(currentGalleryPage);
            }
        });

        // Video Carousel Navigation
        const videoContainer = document.getElementById('video-container');
        const videoPrevBtn = document.getElementById('video-prev');
        const videoNextBtn = document.getElementById('video-next');

        videoPrevBtn.addEventListener('click', () => {
            videoContainer.scrollBy({
                left: -videoContainer.offsetWidth,
                behavior: 'smooth'
            });
        });

        videoNextBtn.addEventListener('click', () => {
            videoContainer.scrollBy({
                left: videoContainer.offsetWidth,
                behavior: 'smooth'
            });
        });

        // Function to stop all videos
        function stopAllVideos() {
            if (currentlyPlayingVideo) {
                // Create a new iframe to reset the video
                const iframe = currentlyPlayingVideo;
                const src = iframe.src;
                iframe.src = src;
                currentlyPlayingVideo = null;
            }
        }

        // Function to handle video play
        function handleVideoPlay(event) {
            // Stop any currently playing video
            stopAllVideos();
            
            // Set the currently playing video to this one
            currentlyPlayingVideo = event.target;
        }

        // Load media from Firebase
        function loadMediaFromFirebase() {
            // Load hero image
            database.ref('websiteMedia/heroImage').once('value').then(snapshot => {
                const heroImage = snapshot.val();
                if (heroImage) {
                    storage.ref(heroImage.path).getDownloadURL().then(url => {
                        document.getElementById('hero-image').src = url;
                    });
                }
            });

            // Load CTA image
            database.ref('websiteMedia/ctaImage').once('value').then(snapshot => {
                const ctaImage = snapshot.val();
                if (ctaImage) {
                    storage.ref(ctaImage.path).getDownloadURL().then(url => {
                        document.getElementById('cta-image').src = url;
                    });
                }
            });

            // Load gallery images
            database.ref('websiteMedia/gallery').once('value').then(snapshot => {
                const galleryData = snapshot.val();
                galleryItems = [];
                
                if (galleryData) {
                    const promises = Object.values(galleryData).map(item => {
                        return storage.ref(item.path).getDownloadURL().then(url => {
                            return {
                                url: url,
                                caption: item.caption || 'School Image'
                            };
                        });
                    });
                    
                    Promise.all(promises).then(items => {
                        galleryItems = items;
                        displayGalleryPage(0);
                    });
                }
            });

            // Load videos
            database.ref('websiteMedia/videos').once('value').then(snapshot => {
                const videoItems = snapshot.val();
                const videoContainer = document.getElementById('video-container');
                
                if (videoItems) {
                    videoContainer.innerHTML = '';
                    Object.values(videoItems).forEach(item => {
                        const videoCard = document.createElement('div');
                        videoCard.className = 'video-card';
                        
                        // Modify YouTube URL to prevent autoplay and add modest branding
                        let videoUrl = item.url;
                        if (videoUrl.includes('youtube.com') || videoUrl.includes('youtu.be')) {
                            // Remove any existing autoplay parameter
                            videoUrl = videoUrl.replace('autoplay=1', 'autoplay=0');
                            
                            // Add parameters to prevent autoplay and enable modest branding
                            if (videoUrl.includes('?')) {
                                videoUrl += '&autoplay=0&modestbranding=1';
                            } else {
                                videoUrl += '?autoplay=0&modestbranding=1';
                            }
                        }
                        
                        videoCard.innerHTML = `
                            <div class="video-player">
                                <iframe src="${videoUrl}" title="${item.title || 'School Video'}" frameborder="0" allow="accelerometer; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
                            </div>
                            <div class="video-card-content">
                                <h3>${item.title || 'School Video'}</h3>
                                <p>${item.description || ''}</p>
                            </div>
                        `;
                        videoContainer.appendChild(videoCard);
                    });
                    
                    // Add event listeners to iframes to handle video playback
                    setTimeout(() => {
                        const iframes = document.querySelectorAll('.video-player iframe');
                        iframes.forEach(iframe => {
                            iframe.addEventListener('load', function() {
                                // Add a click event to the iframe container to handle play
                                const container = iframe.closest('.video-player');
                                container.addEventListener('click', handleVideoPlay);
                            });
                        });
                    }, 1000);
                }
            });
        }

        // Blog functionality
        const blogContainer = document.getElementById('blog-container');
        const blogPostTitle = document.getElementById('blog-post-title');
        const blogPostContent = document.getElementById('blog-post-content');
        const blogPostSubmit = document.getElementById('blog-post-submit');
        const nicknameModal = document.getElementById('nickname-modal');
        const nicknameInput = document.getElementById('nickname-input');
        const nicknameSubmit = document.getElementById('nickname-submit');
        
        // Check if user has a nickname saved
        function checkNickname() {
            return localStorage.getItem('blogNickname');
        }
        
        // Show nickname modal if no nickname is set
        function showNicknameModal() {
            if (!checkNickname()) {
                nicknameModal.style.display = 'flex';
            }
        }
        
        // Save nickname
        nicknameSubmit.addEventListener('click', () => {
            const nickname = nicknameInput.value.trim();
            if (nickname) {
                localStorage.setItem('blogNickname', nickname);
                nicknameModal.style.display = 'none';
            }
        });
        
        // Load blog posts
        function loadBlogPosts() {
            const blogRef = database.ref('blogPosts');
            
            blogRef.orderByChild('timestamp').once('value').then(snapshot => {
                blogContainer.innerHTML = '';
                
                snapshot.forEach(childSnapshot => {
                    const post = childSnapshot.val();
                    renderBlogPost(post, childSnapshot.key);
                });
            });
        }
        
        // Render a single blog post
        function renderBlogPost(post, postId) {
            const postElement = document.createElement('div');
            postElement.className = 'blog-post';
            
            // Format date
            const postDate = new Date(post.timestamp);
            const formattedDate = postDate.toLocaleDateString('en-US', {
                year: 'numeric',
                month: 'long',
                day: 'numeric',
                hour: '2-digit',
                minute: '2-digit'
            });
            
            postElement.innerHTML = `
                <div class="blog-post-header">
                    <h3 class="blog-post-title">${post.title}</h3>
                    <div class="blog-post-meta">
                        <span class="blog-post-author">By ${post.author}</span>
                        <span class="blog-post-date">${formattedDate}</span>
                    </div>
                </div>
                <div class="blog-post-content">
                    ${post.content}
                </div>
                <div class="blog-post-footer">
                    <div class="blog-post-likes" data-post-id="${postId}">
                        <i class="fas fa-heart"></i>
                        <span class="like-count">${post.likes || 0}</span>
                    </div>
                    <a href="#" class="blog-post-comments" data-post-id="${postId}">
                        Comments (${post.comments ? Object.keys(post.comments).length : 0})
                    </a>
                </div>
                <div class="blog-comments" id="comments-${postId}">
                    <!-- Comments will be loaded here -->
                </div>
            `;
            
            blogContainer.prepend(postElement);
            
            // Add event listeners
            const likeButton = postElement.querySelector('.blog-post-likes');
            const commentsButton = postElement.querySelector('.blog-post-comments');
            const commentsSection = postElement.querySelector(`#comments-${postId}`);
            
            likeButton.addEventListener('click', () => handleLike(postId));
            commentsButton.addEventListener('click', (e) => {
                e.preventDefault();
                toggleComments(postId, commentsSection);
            });
        }
        
        // Handle liking a post
        function handleLike(postId) {
            const nickname = checkNickname();
            if (!nickname) {
                showNicknameModal();
                return;
            }
            
            const postRef = database.ref(`blogPosts/${postId}`);
            const likesRef = database.ref(`blogPosts/${postId}/likes`);
            
            // Check if user already liked this post
            database.ref(`blogPosts/${postId}/likedBy/${nickname}`).once('value').then(snapshot => {
                if (snapshot.exists()) {
                    // User already liked - unlike
                    database.ref(`blogPosts/${postId}/likedBy/${nickname}`).remove();
                    likesRef.transaction(currentLikes => (currentLikes || 0) - 1);
                } else {
                    // User hasn't liked - like
                    database.ref(`blogPosts/${postId}/likedBy/${nickname}`).set(true);
                    likesRef.transaction(currentLikes => (currentLikes || 0) + 1);
                }
            });
        }
        
        // Toggle comments section
        function toggleComments(postId, commentsSection) {
            if (commentsSection.style.display === 'block') {
                commentsSection.style.display = 'none';
                return;
            }
            
            commentsSection.style.display = 'block';
            loadComments(postId, commentsSection);
        }
        
        // Load comments for a post
        function loadComments(postId, commentsSection) {
            const commentsRef = database.ref(`blogPosts/${postId}/comments`);
            
            commentsRef.once('value').then(snapshot => {
                commentsSection.innerHTML = '';
                
                if (!snapshot.exists()) {
                    commentsSection.innerHTML = '<p>No comments yet. Be the first to comment!</p>';
                    renderCommentForm(postId, commentsSection);
                    return;
                }
                
                const comments = [];
                snapshot.forEach(childSnapshot => {
                    comments.push({
                        id: childSnapshot.key,
                        ...childSnapshot.val()
                    });
                });
                
                // Sort by timestamp (newest first)
                comments.sort((a, b) => b.timestamp - a.timestamp);
                
                // Render comments
                comments.forEach(comment => {
                    const commentElement = document.createElement('div');
                    commentElement.className = 'blog-comment';
                    
                    const commentDate = new Date(comment.timestamp);
                    const formattedDate = commentDate.toLocaleDateString('en-US', {
                        year: 'numeric',
                        month: 'long',
                        day: 'numeric',
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    
                    commentElement.innerHTML = `
                        <div class="blog-comment-header">
                            <span class="blog-comment-author">${comment.author}</span>
                            <span class="blog-comment-date">${formattedDate}</span>
                        </div>
                        <div class="blog-comment-content">${comment.content}</div>
                    `;
                    
                    commentsSection.appendChild(commentElement);
                });
                
                renderCommentForm(postId, commentsSection);
            });
        }
        
        // Render comment form
        function renderCommentForm(postId, commentsSection) {
            const formElement = document.createElement('form');
            formElement.className = 'blog-comment-form';
            formElement.innerHTML = `
                <textarea class="blog-comment-input" placeholder="Write your comment..." required></textarea>
                <button type="submit" class="blog-comment-submit">Post Comment</button>
            `;
            
            formElement.addEventListener('submit', (e) => {
                e.preventDefault();
                const content = formElement.querySelector('.blog-comment-input').value.trim();
                
                if (content) {
                    const nickname = checkNickname();
                    if (!nickname) {
                        showNicknameModal();
                        return;
                    }
                    
                    const newComment = {
                        author: nickname,
                        content: content,
                        timestamp: Date.now()
                    };
                    
                    database.ref(`blogPosts/${postId}/comments`).push(newComment).then(() => {
                        formElement.querySelector('.blog-comment-input').value = '';
                        loadComments(postId, commentsSection);
                    });
                }
            });
            
            commentsSection.appendChild(formElement);
        }
        
        // Handle new blog post submission
        blogPostSubmit.addEventListener('click', () => {
            const title = blogPostTitle.value.trim();
            const content = blogPostContent.value.trim();
            
            if (title && content) {
                const nickname = checkNickname();
                if (!nickname) {
                    showNicknameModal();
                    return;
                }
                
                const newPost = {
                    title: title,
                    content: content,
                    author: nickname,
                    timestamp: Date.now(),
                    likes: 0
                };
                
                database.ref('blogPosts').push(newPost).then(() => {
                    blogPostTitle.value = '';
                    blogPostContent.value = '';
                });
            }
        });
        
        // Real-time updates for blog posts
        function setupBlogRealtimeUpdates() {
            const blogRef = database.ref('blogPosts');
            
            blogRef.orderByChild('timestamp').on('child_added', snapshot => {
                const post = snapshot.val();
                renderBlogPost(post, snapshot.key);
            });
            
            blogRef.on('child_changed', snapshot => {
                const post = snapshot.val();
                const postElement = document.querySelector(`.blog-post-likes[data-post-id="${snapshot.key}"]`);
                if (postElement) {
                    const likeCount = postElement.querySelector('.like-count');
                    if (likeCount) {
                        likeCount.textContent = post.likes || 0;
                    }
                }
            });
        }
        
        // Chatbot functionality
        const chatbotContainer = document.getElementById('chatbot-container');
        const chatbotHeader = document.getElementById('chatbot-header');
        const chatbotToggle = document.getElementById('chatbot-toggle');
        const chatbotBody = document.getElementById('chatbot-body');
        const chatbotMessages = document.getElementById('chatbot-messages');
        const chatbotInput = document.getElementById('chatbot-input');
        const chatbotSend = document.getElementById('chatbot-send');
        
        // Toggle chatbot visibility
        chatbotToggle.addEventListener('click', () => {
            chatbotBody.classList.toggle('open');
            if (chatbotBody.classList.contains('open')) {
                chatbotToggle.innerHTML = '<i class="fas fa-times"></i>';
            } else {
                chatbotToggle.innerHTML = '<i class="fas fa-comment-dots"></i>';
            }
        });
        
        // Send message
        function sendChatbotMessage() {
            const message = chatbotInput.value.trim();
            if (message) {
                addChatbotMessage(message, 'user');
                chatbotInput.value = '';
                
                // Process the message and generate a response
                setTimeout(() => {
                    const response = generateChatbotResponse(message);
                    addChatbotMessage(response, 'bot');
                }, 500);
            }
        }
        
        // Add message to chat
        function addChatbotMessage(text, sender) {
            const messageElement = document.createElement('div');
            messageElement.className = `chatbot-message ${sender}`;
            messageElement.textContent = text;
            chatbotMessages.appendChild(messageElement);
            chatbotMessages.scrollTop = chatbotMessages.scrollHeight;
        }
        
        // Generate chatbot response
        function generateChatbotResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // School information responses
            if (lowerMessage.includes('admission') || lowerMessage.includes('apply') || lowerMessage.includes('join')) {
                return "Admissions are open for the next academic year. You can apply online through our website or visit the school for more information. The admission process includes an application form, entrance test, and interview.";
            }
            
            if (lowerMessage.includes('fee') || lowerMessage.includes('cost') || lowerMessage.includes('price')) {
                return "Our school fees are affordable and vary depending on the grade level. For detailed fee structure, please contact the school administration at info@hweakwaejhs.edu or call +233.";
            }
            
            if (lowerMessage.includes('teacher') || lowerMessage.includes('staff') || lowerMessage.includes('faculty')) {
                return "We have a team of highly qualified and experienced teachers who are dedicated to providing quality education. Our teachers undergo regular training to ensure they deliver the best to our students.";
            }
            
            if (lowerMessage.includes('facility') || lowerMessage.includes('lab') || lowerMessage.includes('library') || lowerMessage.includes('classroom')) {
                return "Our school has modern facilities including well-equipped science labs, a library with a wide range of books, spacious classrooms, and sports facilities. We continuously upgrade our facilities to enhance learning.";
            }
            
            if (lowerMessage.includes('curriculum') || lowerMessage.includes('syllabus') || lowerMessage.includes('program')) {
                return "We follow the national curriculum with additional enrichment programs. Our curriculum focuses on academic excellence, character development, and practical skills to prepare students for future challenges.";
            }
            
            if (lowerMessage.includes('contact') || lowerMessage.includes('address') || lowerMessage.includes('phone') || lowerMessage.includes('email')) {
                return "You can contact us at:\nAddress: New Abirem, Hweakwae\nPhone: +233\nEmail: info@hweakwaejhs.edu\nOur office hours are Monday to Friday, 8:00 AM to 4:00 PM.";
            }
            
            if (lowerMessage.includes('time') || lowerMessage.includes('hour') || lowerMessage.includes('open')) {
                return "School hours are from 7:30 AM to 2:30 PM, Monday to Friday. The administration office is open from 8:00 AM to 4:00 PM on weekdays.";
            }
            
            if (lowerMessage.includes('event') || lowerMessage.includes('activity') || lowerMessage.includes('program')) {
                return "We organize various events throughout the year including sports day, cultural day, science fair, and academic competitions. Check our blog section for upcoming events.";
            }
            
            if (lowerMessage.includes('result') || lowerMessage.includes('performance') || lowerMessage.includes('exam')) {
                return "Our students consistently perform well in national examinations with many receiving awards. For specific results, please contact the school administration.";
            }
            
            if (lowerMessage.includes('blog') || lowerMessage.includes('news') || lowerMessage.includes('update')) {
                return "You can find the latest school news and updates in our blog section. Students, teachers, and parents can contribute posts and share their experiences.";
            }
            
            // Default responses
            if (lowerMessage.includes('hello') || lowerMessage.includes('hi') || lowerMessage.includes('hey')) {
                return "Hello! How can I help you today?";
            }
            
            if (lowerMessage.includes('thank') || lowerMessage.includes('thanks')) {
                return "You're welcome! Is there anything else I can help you with?";
            }
            
            if (lowerMessage.includes('bye') || lowerMessage.includes('goodbye')) {
                return "Goodbye! Have a great day!";
            }
            
            // If no specific match
            return "I'm sorry, I didn't understand your question. You can ask me about admissions, fees, teachers, facilities, curriculum, or contact information. How else can I help you?";
        }
        
        // Event listeners for chatbot
        chatbotSend.addEventListener('click', sendChatbotMessage);
        chatbotInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendChatbotMessage();
            }
        });
        
        // Load all content when page loads
        window.addEventListener('load', () => {
            loadAnnouncements();
            loadMediaFromFirebase();
            loadBlogPosts();
            setupBlogRealtimeUpdates();
            
            // Show nickname modal if needed when trying to interact with blog
            document.querySelectorAll('.blog-post-likes, .blog-post-comments, #blog-post-submit').forEach(element => {
                element.addEventListener('click', showNicknameModal);
            });
        });

        // Stop all videos when user scrolls away from video section
        window.addEventListener('scroll', () => {
            const videoSection = document.getElementById('videos');
            const rect = videoSection.getBoundingClientRect();
            
            // If video section is not in view, stop all videos
            if (rect.bottom < 0 || rect.top > window.innerHeight) {
                stopAllVideos();
            }
        });
    </script>
</body>
</html>
